<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Калькулятор електричних навантажень</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    label, input { display: block; margin-bottom: 8px; }
    input[type="number"] { width: 100px; }
    .result { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Калькулятор електричних навантажень (метод УД)</h1>
  
  <form id="calcForm">
    <label>Номінальна потужність Pн (кВт): <input type="number" id="Pn" required></label>
    <label>Кількість ЕП n: <input type="number" id="n" required></label>
    <label>ηн (коефіцієнт корисної дії): <input type="number" step="0.01" id="eta" required></label>
    <label>cos φ: <input type="number" step="0.01" id="cosPhi" required></label>
    <label>Uн (кВ): <input type="number" step="0.01" id="Un" required></label>
    <label>Кв (коефіцієнт використання): <input type="number" step="0.01" id="kv" required></label>
    <label>tg φ: <input type="number" step="0.01" id="tgPhi" required></label>
    <button type="submit">Розрахувати</button>
  </form>

  <div class="result" id="result"></div>

  <script>
    document.getElementById("calcForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const Pn = parseFloat(document.getElementById("Pn").value);
      const n = parseFloat(document.getElementById("n").value);
      const eta = parseFloat(document.getElementById("eta").value);
      const cosPhi = parseFloat(document.getElementById("cosPhi").value);
      const Un = parseFloat(document.getElementById("Un").value);
      const kv = parseFloat(document.getElementById("kv").value);
      const tgPhi = parseFloat(document.getElementById("tgPhi").value);

      const P_total = Pn * n;
      const Ip = (P_total * 1000) / (Math.sqrt(3) * Un * 1000 * cosPhi * eta);

      const Pv = P_total * kv;
      const Qv = Pv * tgPhi;
      const Sp = Math.sqrt(Pv ** 2 + Qv ** 2);

      const Ip_group = (Sp * 1000) / (Math.sqrt(3) * Un * 1000);

      const output = `
        <strong>Результати:</strong><br>
        Повна потужність: ${Sp.toFixed(2)} кВА<br>
        Активна потужність (Pp): ${Pv.toFixed(2)} кВт<br>
        Реактивна потужність (Qp): ${Qv.toFixed(2)} квар<br>
        Струм ЕП (Ip): ${Ip.toFixed(2)} A<br>
        Груповий струм (Ip груп.): ${Ip_group.toFixed(2)} A
      `;

      document.getElementById("result").innerHTML = output;
    });
  </script>
</body>
</html>
